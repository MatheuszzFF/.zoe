---
description: 
globs: 
alwaysApply: false
---
# Stack TecnolÃ³gica - React/Next

## ğŸ› ï¸ Tecnologias Principais
- **Frontend:** React 18+ / Next.js 14+
- **Linguagem:** TypeScript
- **Estilo:** Tailwind CSS (preferÃªncia) ou Styled-components (fallback)
- **Estado:** Context API / Zustand
- **Forms:** React Hook Form
- **Requests:** Axios / SWR
- **Testes:** Vitest + @testing-library/react + userEvent

## ğŸ§ª EstratÃ©gia de Testes
### **Ferramentas:**
- **Vitest** â†’ Test runner (mais rÃ¡pido que Jest)
- **@testing-library/react** â†’ RenderizaÃ§Ã£o de componentes
- **@testing-library/user-event** â†’ InteraÃ§Ãµes realistas (SEMPRE usar)
- **@testing-library/jest-dom** â†’ Matchers especÃ­ficos para DOM

### **Abordagem userEvent:**
```tsx
// âœ… SEMPRE usar userEvent.setup()
const user = userEvent.setup();

// âœ… Para cliques
await user.click(button);

// âœ… Para digitaÃ§Ã£o
await user.type(input, 'texto');

// âœ… Para navegaÃ§Ã£o por teclado
await user.tab();
await user.keyboard('{Enter}');

// âŒ NUNCA usar fireEvent diretamente
```

## ğŸ¨ EstratÃ©gia de Estilo
### 1. **Se projeto tem Tailwind:**
- Usar classes Tailwind
- Separar classes em arquivo `.classes.ts`
- Componentes com className
- Responsive com prefixos (sm:, md:, lg:)

### 2. **Se projeto NÃƒO tem Tailwind:**
- Usar Styled-components no `.template.tsx`
- CSS-in-JS approach
- Styled wrappers

## ğŸ“‹ Estrutura de Componentes
### **Nomenclatura:** kebab-case (separado por traÃ§o, minÃºsculo)
**Exemplo:** `update-modal/`

### **Tipos de Arquivo:**
- **`.component.tsx`** â†’ Toda a lÃ³gica do componente
- **`.template.tsx`** â†’ Toda a montagem/estrutura visual
- **`.classes.ts`** â†’ Classes Tailwind organizadas (se Tailwind)
- **`.types.ts`** â†’ Interfaces TypeScript do componente
- **`.composite.tsx`** â†’ Subcomponentes reutilizÃ¡veis (opcional)
- **`.test.tsx`** â†’ Testes do componente (OBRIGATÃ“RIO)

## ğŸ¯ Estrutura de Pastas
```
src/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ update-modal/
â”‚       â”œâ”€â”€ update-modal.component.tsx
â”‚       â”œâ”€â”€ update-modal.template.tsx
â”‚       â”œâ”€â”€ update-modal.classes.ts (se Tailwind)
â”‚       â”œâ”€â”€ update-modal.types.ts
â”‚       â”œâ”€â”€ update-modal.composite.tsx (opcional)
â”‚       â””â”€â”€ update-modal.test.tsx (OBRIGATÃ“RIO)
â”œâ”€â”€ pages/         # PÃ¡ginas Next.js (mesma estrutura)
â”œâ”€â”€ hooks/         # Custom hooks
â”œâ”€â”€ context/       # Context providers
â”œâ”€â”€ types/         # Tipos globais
â”œâ”€â”€ utils/         # FunÃ§Ãµes utilitÃ¡rias
â”œâ”€â”€ test/          # Setup e mocks de teste
â””â”€â”€ styles/        # Estilos globais (se nÃ£o Tailwind)
```

## ğŸ“‹ PadrÃµes de CÃ³digo
- Componentes funcionais com hooks
- SeparaÃ§Ã£o clara: lÃ³gica (.component) vs visual (.template)
- Interface TypeScript em arquivo separado (.types)
- Classes Tailwind organizadas (.classes) se aplicÃ¡vel
- Nomes em kebab-case para pastas
- PascalCase para componentes exportados
- Export default no final de cada arquivo
- **Testes obrigatÃ³rios** para todos os componentes

## âœ… Sempre Aplicar
- TypeScript interfaces em arquivo separado
- SeparaÃ§Ã£o lÃ³gica/visual
- Responsive design (mobile-first)
- Accessibility (ARIA labels)
- SEO otimizado (meta tags) para pÃ¡ginas
- Performance (lazy loading, memo)
- Error boundaries
- **Testes com userEvent** (renderizaÃ§Ã£o, interaÃ§Ãµes, acessibilidade)

## ğŸ§ª PadrÃµes de Teste
### **Estrutura de Teste:**
```tsx
describe('ComponentName', () => {
  describe('RenderizaÃ§Ã£o', () => {
    // Testes de renderizaÃ§Ã£o
  });
  
  describe('InteraÃ§Ãµes com userEvent', () => {
    // Testes de clique, digitaÃ§Ã£o, formulÃ¡rios
  });
  
  describe('Estados', () => {
    // Loading, erro, sucesso
  });
  
  describe('Acessibilidade', () => {
    // ARIA labels, navegaÃ§Ã£o por teclado
  });
});
```

### **userEvent Patterns:**
- **Setup:** `const user = userEvent.setup();`
- **Cliques:** `await user.click(element)`
- **DigitaÃ§Ã£o:** `await user.type(input, 'texto')`
- **FormulÃ¡rios:** `await user.type()` + `await user.click(submitBtn)`
- **Teclado:** `await user.tab()` + `await user.keyboard('{Enter}')`

## ğŸ” DetecÃ§Ã£o AutomÃ¡tica
**Verificar se existe:**
- `tailwind.config.js`
- `tailwindcss` em package.json
- `@tailwind` imports em CSS

**Se encontrado â†’ Tailwind + .classes.ts**
**Se nÃ£o â†’ Styled-components no .template.tsx**

## ğŸš« Evitar
- Class components
- Inline styles
- Props drilling excessivo
- Console.log em produÃ§Ã£o
- DependÃªncias desnecessÃ¡rias
- **fireEvent em vez de userEvent**
- **Testes sem userEvent setup**
- **Componentes sem testes**





