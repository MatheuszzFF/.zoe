{
  "_metadata": {
    "command_name": "auto-learning",
    "version": "2.0",
    "format": "json",
    "description": "Sistema de auto-aprendizado baseado em feedbacks negativos",
    "created": "2025-06-09",
    "ai_optimized": true
  },

  "trigger": {
    "patterns": [
      "aprender com os erros",
      "apply learning",
      "corrigir feedbacks"
    ],
    "priority_level": 50,
    "category": "system",
    "auto_trigger": false,
    "description": "Comando para aplicar corre√ß√µes baseadas em feedbacks capturados"
  },

  "behavior": {
    "phases": [
      {
        "phase": 1,
        "name": "read_feedback_history",
        "description": "Carregar hist√≥rico de feedbacks negativos",
        "steps": [
          {
            "step": 1,
            "action": "read_learning_file",
            "file": ".zoe/rules/commands/auto-learning.json",
            "section": "learning_entries"
          },
          {
            "step": 2,
            "action": "identify_pending_corrections",
            "filter": "status !== 'applied'"
          },
          {
            "step": 3,
            "action": "prioritize_corrections",
            "criteria": ["severity", "frequency", "impact"]
          }
        ]
      },
      {
        "phase": 2,
        "name": "apply_corrections",
        "description": "Aplicar corre√ß√µes mapeadas nos arquivos espec√≠ficos",
        "steps": [
          {
            "step": 1,
            "action": "for_each_correction",
            "logic": "iterate through pending corrections"
          },
          {
            "step": 2,
            "action": "locate_target_files",
            "source": "correction.files_with_error"
          },
          {
            "step": 3,
            "action": "apply_corrective_actions",
            "method": "edit_file or search_replace based on complexity"
          },
          {
            "step": 4,
            "action": "mark_correction_applied",
            "update_status": "applied"
          }
        ]
      },
      {
        "phase": 3,
        "name": "validate_corrections",
        "description": "Verificar se as corre√ß√µes foram aplicadas corretamente",
        "steps": [
          {
            "step": 1,
            "action": "test_corrected_files",
            "validation": "syntax and functionality check"
          },
          {
            "step": 2,
            "action": "update_learning_status",
            "status": "validated"
          },
          {
            "step": 3,
            "action": "document_improvement",
            "file": ".zoe/rules/context/projects/[active_project]/progress/[YYYY-MM-DD]/README.md"
          }
        ]
      }
    ]
  },

  "feedback_capture": {
    "description": "Sistema passivo de captura de feedbacks negativos - N√ÉO aplica corre√ß√µes automaticamente",
    "trigger_phrases": [
      "n√£o ficou legal",
      "isso est√° errado",
      "melhora isso",
      "n√£o fa√ßa assim",
      "prefira sempre",
      "est√° feio",
      "corrija"
    ],
    "capture_process": {
      "step_1": "detect negative feedback in user message",
      "step_2": "identify files mentioned or recently edited",
      "step_3": "extract problem description",
      "step_4": "map corrective action needed",
      "step_5": "store in learning_entries with status: 'pending'"
    }
  },

  "learning_entries": [
    {
      "id": 1,
      "date": "2025-06-07",
      "feedback": "esse arquivo de test n√£o ficou legal. Sempre que voc√™ criar documenta√ß√µes, prefira sempre descrever como deve ser feito, e n√£o ficar jogando c√≥digo na documenta√ß√£o das regras.",
      "files_with_error": [
        {
          "file": "templates/react-component-test.mdc",
          "problem": "Template extenso com 280+ linhas de c√≥digo",
          "solution": "Reformular com instru√ß√µes concisas em vez de c√≥digo"
        },
        {
          "file": "how-zoe-works.md",
          "problem": "Blocos de c√≥digo excessivos nas regras",
          "solution": "Remover c√≥digo, manter apenas instru√ß√µes"
        },
        {
          "file": "zoe-chore.mdc",
          "problem": "C√≥digo inline desnecess√°rio",
          "solution": "Minimizar c√≥digo inline"
        }
      ],
      "corrective_actions": [
        "Documenta√ß√£o = instru√ß√µes claras",
        "Templates = c√≥digo pr√°tico",
        "N√£o misturar os dois conceitos"
      ],
      "status": "applied",
      "severity": "medium"
    },
    {
      "id": 2,
      "date": "2025-06-07",
      "feedback": "melhora isso pra ja marcar em que arquivo teve o erro, para quando tomarmos uma a√ß√£o, voc√™ ja saber qual arquivo/ regra modificar, entende?",
      "files_with_error": [
        {
          "file": "auto-learning.mdc",
          "problem": "Estrutura sem mapeamento de arquivos espec√≠ficos",
          "solution": "Adicionar se√ß√£o 'files_with_error' com paths e detalhes"
        },
        {
          "file": "zoe-chore.mdc",
          "problem": "Regra #5 sem especifica√ß√£o de localiza√ß√£o de erros",
          "solution": "Atualizar para incluir mapeamento de arquivos"
        }
      ],
      "corrective_actions": [
        "Feedback deve mapear arquivos/localiza√ß√£o espec√≠fica",
        "A√ß√µes corretivas devem ser precisas e direcionadas",
        "Hist√≥rico de mudan√ßas deve ser rastre√°vel por arquivo"
      ],
      "status": "applied",
      "severity": "high"
    },
    {
      "id": 3,
      "date": "2025-06-07",
      "feedback": "mas que fique claro que N√ÉO √© para voc√™ CORRIGIR nada at√© voc√™ receber o comando, que ser√° o comando: aprender com os erros",
      "files_with_error": [
        {
          "file": "auto-learning.mdc",
          "problem": "Entrada #2 indica corre√ß√£o autom√°tica (incorreto)",
          "solution": "Separar captura de corre√ß√£o"
        },
        {
          "file": "zoe-chore.mdc",
          "problem": "Regra #5 mistura captura com corre√ß√£o",
          "solution": "Dividir em 2 fases (captura + comando)"
        }
      ],
      "corrective_actions": [
        "Auto-learning = APENAS captura e mapeamento",
        "Corre√ß√µes = APENAS ap√≥s comando espec√≠fico",
        "Separar responsabilidades: observar vs. agir",
        "Dar controle ao usu√°rio sobre quando aplicar corre√ß√µes"
      ],
      "status": "applied",
      "severity": "critical"
    },
    {
      "id": 4,
      "date": "2025-06-07",
      "feedback": "Zoe, voc√™ n√£o precisa colocar emoji em absolutamente tudo, √© mais em titulos para dar um destaquezinho, n√£o sair tacando emoji em tudo. E ja pode aprender com os erros j√°. Ta feio pra caralho",
      "files_with_error": [
        {
          "file": "zoe-chore.mdc",
          "problem": "Excesso de emojis em textos normais, listas e conte√∫do",
          "solution": "Emojis removidos de textos normais, mantidos s√≥ em t√≠tulos principais"
        },
        {
          "file": "how-zoe-works.md",
          "problem": "Emojis demais em conte√∫do regular, n√£o s√≥ t√≠tulos",
          "solution": "Conte√∫do limpo, emojis s√≥ em t√≠tulos de se√ß√µes"
        }
      ],
      "corrective_actions": [
        "Emojis = APENAS t√≠tulos e se√ß√µes principais para destaque",
        "Conte√∫do regular = sem emojis, formata√ß√£o limpa",
        "Menos √© mais - evitar excesso visual",
        "Priorizar legibilidade sobre decora√ß√£o"
      ],
      "status": "applied",
      "severity": "medium"
    },
    {
      "id": 5,
      "date": "2025-06-07",
      "feedback": "no seu core, eu quero que vc pegue as a√ß√µes que vc sabe que geram alguma a√ß√£o, por exemplo, os comandos, ou o feedback negativo e simplesmente jogue para dentro do arquivo. LA DENTRO DO ARQUIVO VOC√ä EXPLICA AS COISAS, entendeu? Para o chore n√£o ter informa√ß√£o nenhuma sobre isso. S√≥ saber quais s√£o os gatilhos, entende? Ajusta pra n√≥s todo trigger que vc tem para deixarmos bem objetivo",
      "files_with_error": [
        {
          "file": "zoe-chore.mdc",
          "problem": "Muitas explica√ß√µes detalhadas, deveria ser s√≥ triggers",
          "solution": "Simplificado para apenas triggers e paths"
        }
      ],
      "corrective_actions": [
        "zoe-chore.mdc = apenas mapeamento de triggers",
        "Arquivos espec√≠ficos = todas as instru√ß√µes detalhadas",
        "Separa√ß√£o clara: dispatcher vs. implementa√ß√£o",
        "Core deve ser objetivo e limpo"
      ],
      "status": "applied",
      "severity": "high"
    }
  ],

  "learning_patterns": {
    "documentation_rules": [
      "Documenta√ß√£o deve ter instru√ß√µes, n√£o c√≥digo",
      "Templates podem ter c√≥digo pr√°tico",
      "Separar conceitos: instru√ß√µes vs. implementa√ß√£o"
    ],
    "feedback_mapping": [
      "Sempre mapear arquivos espec√≠ficos com problemas",
      "Identificar localiza√ß√£o precisa dos erros",
      "Fornecer solu√ß√µes direcionadas"
    ],
    "correction_workflow": [
      "Capturar feedback automaticamente",
      "Mapear arquivos e problemas",
      "Aguardar comando 'aprender com os erros' para aplicar",
      "Validar corre√ß√µes aplicadas"
    ],
    "formatting_guidelines": [
      "Emojis apenas em t√≠tulos principais",
      "Conte√∫do regular sem formata√ß√£o excessiva",
      "Priorizar legibilidade"
    ],
    "architecture_principles": [
      "zoe-chore.mdc = dispatcher de triggers",
      "Arquivos espec√≠ficos = instru√ß√µes detalhadas",
      "Separa√ß√£o clara de responsabilidades"
    ]
  },

  "context_integration": {
    "description": "Sistema integrado com contexto do projeto ativo",
    "requires_active_project": true,
    "updates_progress": true,
    "isolation_level": "full",
    "cross_project_learning": false
  },

  "validation": {
    "before_application": [
      "verificar se arquivos existem",
      "validar sintaxe das corre√ß√µes",
      "confirmar impacto das mudan√ßas"
    ],
    "after_application": [
      "testar arquivos modificados",
      "verificar integridade do sistema",
      "documentar melhorias aplicadas"
    ]
  },

  "integration": {
    "passive_triggers": [
      "negative feedback detection in any user message",
      "file editing errors",
      "command execution failures"
    ],
    "active_triggers": [
      "explicit 'aprender com os erros' command"
    ],
    "updates_files": [
      ".zoe/rules/commands/auto-learning.json",
      ".zoe/rules/context/projects/[active_project]/progress/[YYYY-MM-DD]/README.md"
    ],
    "reads_files": [
      ".zoe/rules/context/active-project.json"
    ]
  },

  "error_handling": {
    "file_not_found": {
      "action": "log_missing_file",
      "message": "‚ö†Ô∏è **Arquivo n√£o encontrado:** [file_path]\nüí° **Ignorando corre√ß√£o para este arquivo**"
    },
    "correction_failed": {
      "action": "log_failure",
      "message": "‚ùå **Falha ao aplicar corre√ß√£o em:** [file_path]\nüîç **Erro:** [error_details]"
    },
    "syntax_error": {
      "action": "rollback_changes",
      "message": "‚ùå **Erro de sintaxe ap√≥s corre√ß√£o**\nüîÑ **Revertendo mudan√ßas em:** [file_path]"
    }
  },

  "performance": {
    "feedback_detection": "real-time passive scanning",
    "batch_processing": "apply multiple corrections at once",
    "validation": "lightweight syntax checking"
  }
} 